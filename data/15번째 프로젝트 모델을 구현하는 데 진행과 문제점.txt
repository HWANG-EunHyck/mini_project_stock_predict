14번째 프로젝트

주가 예측 및 웹 구현 하기

데이터 => yahoo finance 가져온 주가 정보(애플)
데이터셋에서 95%의 데이터만 훈련데이터로 사용하고 나머지 5%검증 데이터로 사용

시계열 데이터이므로 LSTM 모델을 사용하기로 결정
(실제로로 주각예측에 LSTM모델을 많이 사용하는 것을 확인)

학습용 데이터에서 x와 y를 어떻게 하면 나눌수 있을까 고민하다가

for i in range(60, len(train_data)):
    x_train.append(train_data[i-60:i, 0])
    y_train.append(train_data[i, 0])

이 코드를 활용하여 i에서 60일 이전의 데이터 X_train[0]으로 저장하고
i 번째 데이터를 예측할수 있도록 y_train[0]에 저장하여 LSTM모델에 학습 시킬 준비

이후에 test 데이터도 만들기 위한 준비
훈련 데이터 이후를 예측하기 위해 (즉) y_test[0]을 예측하기 위해 
train 데이터셋에서 -60까지를 처음 x_test[0]에 지정
그 이후의 첫번째 값을 y_test[0]으로 지정하여 확인!
'''
첫번째 문제!
초반에 예측값이 직선으로 나온것은
x_test[0]부터 이후가 다 같은 값을 넣는 실수를해
 y_test가 다 같은 값으로 예측한 것..
-현재는 코드가 남아있지 않음...
'''

예측을 수행하니 
<--그래프-->


이 모델을 사용한다면 최신 날짜부터 -60개의 데이터(중요)를 input => 최신날짜의 주가를 예측

이 모델의 예측값을 DB에 넣고 
웹에서 DB의 값을 받아와서 
원하는 날짜의 주식 값을 예측하는 것이 1차 목표

12월31일까지의 주식 가격의 예측을 csv로 만듬
'''
날짜를 맞춰서 만듫엇는데 주식장이 주말과 11월 28과 12월 25일이 휴일인 것을 확인
따라서 날짜를 맞춰서 
예측값을 46개를 데이터프레임화  
'''

이후에 곰곰히 생각
'''
세번째 문재
이 예측값을 48일 생성하기 위해서는
내 모델이 예측한 값 하나를 계속해서 더해주고 실제 주식 값을 빼줘야하는데
어느 순간 기점으로 실제 데이터를 활용하는것보다 내 모델의 값을 예측하는데 활용하는 비율이 
높아지는 것이 생각남
'''
 
목표를 바꿔서 단순히 하루의 주식가격을 예측하게하지만, 
datetime과 datedelta를 활용하여 yfinance에서 최신 데이터를 업데이트 받아 
하루를 예측하는 것으로 하기로 결정!

-----
이후는 웹 구현 부분입니다 






